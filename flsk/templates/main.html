<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Persons List</title>
</head>
<body>
    <h1>Persons</h1>
    <a href="{{ url_for('add_person') }}">Add Person</a>
    <ul>
        {% for person in persons %}
            <li>
                {{ person.Name }}
                <a href="{{ url_for('add_alias', person_id=person.Id) }}">Add Alias</a>
                <a href="{{ url_for('add_email', person_id=person.Id) }}">Add Email</a>
                <a href="{{ url_for('edit_person', person_id=person.Id) }}">Edit</a>
                <a href="{{ url_for('delete_person', person_id=person.Id) }}" onclick="return confirm('Are you sure you want to delete this person?')">Delete</a>
                <ul>
                    {% for alias in person.aliases %}
                        <li>
                            {{ alias.Alias }}
                            <a href="{{ url_for('edit_alias', alias_id=alias.Id) }}">Edit</a>
                            <a href="{{ url_for('delete_alias', alias_id=alias.Id) }}" onclick="return confirm('Are you sure you want to delete this alias?')">Delete</a>
                        </li>
                    {% endfor %}
                </ul>
                <ul>
                    {% for email in person.emails %}
                        <li>
                            {{ email.MetadataSubject }}
                            <a href="{{ url_for('edit_email', email_id=email.Id) }}">Edit</a>
                            <a href="{{ url_for('delete_email', email_id=email.Id) }}" onclick="return confirm('Are you sure you want to delete this email?')">Delete</a>
                        </li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>
</body>
</html>